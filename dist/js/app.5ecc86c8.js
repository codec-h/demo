(function(t){function e(e){for(var i,r,s=e[0],c=e[1],l=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},o={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/demo/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"04b3":function(t,e,a){"use strict";a("7030")},"188f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return G}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("NavbarHeader",{staticClass:"mb-4"}),a("div",{attrs:{id:"body"}},[a("router-view")],1),a("loading",{attrs:{active:this.loading,"is-full-page":!0,loader:t.spinnerType,opacity:.9,color:"#fc7b54",height:150,width:150}})],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header",attrs:{id:"header"}},[a("nav",{staticClass:"navbar container"},[a("div",{staticClass:"brand"},[a("b-icon-film",{attrs:{scale:"1.5"}}),a("span",{staticClass:"pl-3"},[t._v("Critics")])],1),a("div",{staticClass:"menu",attrs:{id:"menu"}},[a("ul",{staticClass:"menu-list"},[a("li",{staticClass:"menu-item"},[a("router-link",{staticClass:"row menu-link is-active",attrs:{to:"/"}},[a("div",{staticClass:"row d-flex margin-top-5"},[a("b-icon-house",{staticClass:"pr-3",attrs:{scale:"1.5"}}),a("span",{staticClass:"menu-name pl-2"},[t._v("Home")])],1)])],1)])])])])},s=[],c={name:"NavbarHeader",methods:{toggleResponsiveMenu:function(){var t=document.getElementById("navbarSupportedContent");void 0!=t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show"))}}},l=c,u=(a("c1a3"),a("2877")),d=Object(u["a"])(l,r,s,!1,null,"22248368",null),m=d.exports,p=a("9062"),v=a.n(p),f=(a("e40d"),{name:"App",components:{NavbarHeader:m,Loading:v.a},data:function(){return{spinnerType:"dots",loading:!1}},created:function(){var t=this;this.$store.commit("setFromDate",new Date((new Date).getFullYear()-1,(new Date).getMonth(),(new Date).getDate())),this.$store.commit("setToDate",new Date),G.$on("showLoader",(function(){t.loading=!0})),G.$on("hideLoader",(function(){setTimeout((function(){t.loading=!1}),200)}))}}),h=f,g=(a("034f"),Object(u["a"])(h,o,n,!1,null,null,null)),b=g.exports,D=a("8c4f"),w=a("5f5b"),y=a("b1e0"),_=(a("f9e3"),a("2dd8"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container pt-2"},[i("div",{staticClass:"heading-container row"},[t._m(0),i("div",{staticClass:"col-sm-6 d-flex",staticStyle:{"justify-content":"end"}},[i("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-xl",modifiers:{"modal-xl":!0}}],staticClass:"btn btn-color ml-auto"},[i("b-icon-filter",{attrs:{scale:"2"}}),i("span",{staticClass:"pl-3"},[t._v("Filter")])],1)])]),i("div",{staticClass:"pb-4 pt-2 pagination-div"},[i("ul",{attrs:{id:"pagination"}},[i("li",[i("a",{on:{click:t.NavigateToFirstPage}},[t._v("«")])]),t._l(t.pageNumbers,(function(e){return i("li",{key:e},[i("a",{attrs:{id:e},on:{click:function(a){return t.NavigateToSelectedPage(e)}}},[t._v(t._s(e))])])})),i("li",[i("a",{on:{click:t.NavigateToLastPage}},[t._v("»")])])],2)]),void 0!==this.movies&&0!==this.movies.length?i("div",{staticClass:"row pr-3 pl-3 w-100"},t._l(this.movies,(function(t){return i("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 hover-blank-color"},[i("MovieCard",{key:t.id,staticClass:"hover-blank-color",attrs:{movieId:t.id,movieName:t.title,releaseDate:t.release_date,popularity:t.popularity,moviePosterURL:"https://image.tmdb.org/t/p/w500/"+t.poster_path}})],1)})),0):i("div",{staticClass:"col-sm-12 col-lg-12 col-md-12 col-xl-12"},[i("img",{staticClass:"responsive",attrs:{src:a("dcc2")}}),i("h5",{staticClass:"text-muted"},[t._v(" Oops! Looks like that is an extraordinary filter date combination. Let's try some other date! :) ")])]),i("b-modal",{attrs:{id:"modal-xl",size:"xl",title:"Filter on Date Released","no-close-on-backdrop":!0},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.ok,o=e.cancel;return[i("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(){t.NavigateToFirstPage(),a()}}},[t._v(" Filter ")]),i("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return o()}}},[t._v(" Cancel ")])]}}])},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6"},[i("label",{attrs:{for:"fromdatepicker"}},[t._v("Select from date")]),i("b-form-datepicker",{staticClass:"mb-2 datePicker",attrs:{id:"fromdatepicker",max:new Date},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),i("div",{staticClass:"col-sm-6"},[i("label",{attrs:{for:"todatepicker"}},[t._v("Select to date")]),i("b-form-datepicker",{staticClass:"mb-2 datePicker",attrs:{id:"todatepicker",min:t.fromDate,max:new Date},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)])])],1)}),C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6"},[a("h4",{staticClass:"text-muted",staticStyle:{"text-align":"left"}},[a("strong",[t._v("Top Rated movies")])])])}],k=a("c7eb"),x=a("1da1"),L=(a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie-card",attrs:{to:"/movie/"+t.movieId},on:{click:function(e){return t.route(t.movieId)}}},[a("img",{staticClass:"movie-header",attrs:{src:t.moviePosterURL}}),a("div",{staticClass:"movie-content"},[a("div",{staticClass:"movie-content-header"}),a("div",{staticClass:"movie-info"},[a("div",{staticClass:"info-section"},[a("label",[t._v("Date Released")]),a("span",[t._v(t._s(t.formatDate(new Date(t.releaseDate))))])]),a("div",{staticClass:"info-section"},[a("label",[t._v("Popularity")]),a("span",[t._v(t._s(t.popularity)+"%")])])])])])}),T=[],j={name:"MovieCard",props:["movieName","releaseDate","popularity","movieId","moviePosterURL"],methods:{formatDate:function(t){var e=new Date(t),a=e.toLocaleString("default",{day:"2-digit"}),i=e.toLocaleString("default",{month:"short"}),o=e.toLocaleString("default",{year:"numeric"});return a+" "+i+" "+o},route:function(t){this.$router.push("/movie/"+t)}}},$=j,O=(a("5c8e"),Object(u["a"])($,L,T,!1,null,"5efa1dfe",null)),S=O.exports,N={name:"Dashboard",components:{MovieCard:S},data:function(){return{modal:!1,dropdown:{height:0},movies:[],selectedPage:1,pageNumbers:[],paginationTopLimit:500,paginationBottomLimit:1,toDate:this.$toDate,fromDate:this.$fromDate}},watch:{fromDate:function(){this.toDate=new Date}},methods:{NavigateToFirstPage:function(){var t=this;return Object(x["a"])(Object(k["a"])().mark((function e(){return Object(k["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$fromDate=t.fromDate,t.$toDate=t.toDate,t.$store.commit("setFromDate",t.fromDate),t.$store.commit("setToDate",t.toDate),e.next=6,t.NavigateToSelectedPage(t.paginationBottomLimit);case 6:case"end":return e.stop()}}),e)})))()},NavigateToLastPage:function(){var t=this;return Object(x["a"])(Object(k["a"])().mark((function e(){return Object(k["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.NavigateToSelectedPage(t.paginationTopLimit);case 2:case"end":return e.stop()}}),e)})))()},NavigateToSelectedPage:function(t){var e=this;return Object(x["a"])(Object(k["a"])().mark((function a(){var i,o;return Object(k["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return G.$emit("showLoader"),a.next=3,e.FetchMovies(t);case 3:i=document.getElementById(e.selectedPage),void 0!=i&&i.classList.remove("active"),o=document.getElementById(t),void 0!=o&&o.classList.add("active"),e.selectedPage=t,G.$emit("hideLoader");case 9:case"end":return a.stop()}}),a)})))()},FetchMovies:function(t){var e=this;return Object(x["a"])(Object(k["a"])().mark((function a(){return Object(k["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch(e.$apiBaseUrl+"top_rated?api_key="+e.$apiToken+"&language=en-US&page="+t+"&primary_release_date.gte="+e.FormatDate(e.fromDate)+"&primary_release_date.lte="+e.FormatDate(e.toDate)).then((function(t){return t.json()})).then((function(a){e.movies=a.results,e.paginationTopLimit=a.total_pages,0===e.paginationTopLimit&&(e.paginationTopLimit=1),e.FillPageNumbers(t-3,t+3)}));case 2:case"end":return a.stop()}}),a)})))()},FormatDate:function(t){var e=new Date(t),a=e.toLocaleString("default",{day:"2-digit"}),i=e.toLocaleString("default",{month:"2-digit"}),o=e.toLocaleString("default",{year:"numeric"});return o+"-"+i+"-"+a},FillPageNumbers:function(t,e){this.pageNumbers=[],t<this.paginationBottomLimit&&(t=this.paginationBottomLimit,e=this.paginationBottomLimit+6),e>this.paginationTopLimit&&(e=this.paginationTopLimit,t=e<=7?this.paginationBottomLimit:e-6);for(var a=t;a<=e;a++)this.pageNumbers.push(a)}},mounted:function(){var t=this;return Object(x["a"])(Object(k["a"])().mark((function e(){return Object(k["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fromDate=t.$store.state.fromDate,t.toDate=t.$store.state.toDate,t.FillPageNumbers(t.paginationBottomLimit,t.paginationBottomLimit+6),e.next=5,t.NavigateToFirstPage();case 5:case"end":return e.stop()}}),e)})))()}},P=N,F=(a("04b3"),Object(u["a"])(P,_,C,!1,null,"975e62c2",null)),M=F.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==this.movieDetail?i("div",[i("div",{staticClass:"center-content hero-ontop",style:{"background-image":"url(https://image.tmdb.org/t/p/original/"+this.movieDetail.backdrop_path+")"},attrs:{id:"content_hero"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"row blurb scrollme animateme",attrs:{"data-when":"exit","data-from":"0","data-to":"1","data-opacity":"0","data-translatey":"100"}},[i("div",{staticClass:"col-md-9"},[void 0!==this.movieDetail.genres?i("span",{staticClass:"title"},[t._v(t._s(this.movieDetail.genres.map((function(t){return t.name})).join()))]):t._e(),i("h1",[t._v(t._s(this.movieDetail.title))]),i("p",[t._v(" "+t._s(this.movieDetail.overview)+" ")]),i("div",{staticClass:"buttons"},[void 0!==this.movieDetail.original_language?i("span",{staticClass:"certificate"},[t._v(t._s(this.movieDetail.original_language.toUpperCase()))]):t._e(),i("span",{staticStyle:{color:"white"}},[i("b-icon-currency-dollar",{attrs:{scale:"1.2"}}),t._v(" "+t._s(t.convertToInternationalCurrencySystem(this.movieDetail.budget))+" ")],1)])])])])]),i("div",{staticClass:"row mt-4 row-margin"},[i("div",{staticClass:"col-sm-12 mt-4"},[t._m(0),void 0!==this.movieTrailerDetail&&0!==this.movieTrailerDetail.length?i("div",{staticClass:"row pr-3 pl-3 card-deck"},t._l(this.movieTrailerDetail,(function(e){return i("div",{key:e.key,staticClass:"col-sm-6 col-md-4 col-lg-3 col-xl-2 ca",on:{click:function(a){return t.viewTrailer(e.key)}}},[i("div",{staticClass:"card pr-2 pl-2",staticStyle:{margin:"10px"}},[i("img",{staticClass:"card-img-top thumbnail",attrs:{src:"https://img.youtube.com/vi/"+e.key+"/mqdefault.jpg",alt:e.name}}),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[t._v(t._s(e.name))])])])])})),0):i("div",{staticClass:"col-sm-12 col-lg-12 col-md-12 col-xl-12"},[i("img",{staticClass:"responsive",attrs:{src:a("dcc2")}}),i("h5",{staticClass:"text-muted"},[t._v(" Oops! Looks like that is an extraordinary filter date combination. Let's try some other date! :) ")])])])]),t.showTrailer?i("div",{attrs:{id:"video-popup-overlay"}}):t._e(),t.showTrailer?i("div",{attrs:{id:"video-popup-container"}},[i("div",{staticClass:"d-flex justify-content-end close"},[i("span",{on:{click:function(){t.showTrailer=!1}}},[i("b-btn-close")],1)]),i("LazyYoutube",{staticStyle:{"border-radius":"7px"},attrs:{"max-width":"100%",src:"https://www.youtube.com/watch?v="+this.selectedTrailer}})],1):t._e()]):t._e()},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"heading"},[a("strong",[t._v("Videos")])])}],U=(a("a9e3"),a("b680"),a("3cf9")),I={name:"Movie",components:{LazyYoutube:U["LazyYoutube"]},mounted:function(){},beforeDestroy:function(){window.removeEventListener("error",(function(){}))},created:function(){var t=this;G.$emit("showLoader"),fetch("https://api.themoviedb.org/3/movie/"+this.$route.params.id+"?api_key=11004c5dda64d0bae607c7af2636e983&language=en-US").then((function(t){return t.json()})).then((function(e){t.movieDetail=e,t.getMovieTrailerDetail(t.movieDetail.id),G.$emit("hideLoader")}))},methods:{convertToInternationalCurrencySystem:function(t){return void 0===t||0===t?"Not available":Math.abs(Number(t))>=1e9?(Math.abs(Number(t))/1e9).toFixed(2)+" Billion":Math.abs(Number(t))>=1e6?(Math.abs(Number(t))/1e6).toFixed(2)+" Million":Math.abs(Number(t))>=1e3?(Math.abs(Number(t))/1e3).toFixed(2)+" Thousand":Math.abs(Number(t))},viewTrailer:function(t){this.selectedTrailer=t,this.showTrailer=!0},closeVideoPopUp:function(){this.showTrailer=!1},getMovieTrailerDetail:function(t){var e=this;fetch(this.$apiBaseUrl+t+"/videos?api_key=11004c5dda64d0bae607c7af2636e983&language=en-US").then((function(t){return t.json()})).then((function(t){e.movieTrailerDetail=t.results}))},formatDate:function(t){var e=new Date(t),a=e.toLocaleString("default",{day:"2-digit"}),i=e.toLocaleString("default",{month:"short"}),o=e.toLocaleString("default",{year:"numeric"});return a+" "+i+" "+o}},data:function(){return{movieDetail:{},isVideoLoaded:!1,movieTrailerDetail:{},selectedTrailer:"",showTrailer:!1}}},R=I,z=(a("8e8c"),Object(u["a"])(R,B,E,!1,null,"1bcf36f6",null)),Y=z.exports,H=[{path:"/",name:"home",component:M},{path:"/movie/:id",name:"movie",component:Y}],V=new D["a"]({routes:H});V.beforeEach((function(t,e,a){"/movie/"===t.path&&void 0===t.params.id&&a("/"),a()}));var J=V,q=a("2f62");i["default"].use(q["a"]);var A=new q["a"].Store({state:function(){return{fromDate:new Date,toDate:new Date}},mutations:{setFromDate:function(t,e){t.fromDate=e},setToDate:function(t,e){t.toDate=e}}});i["default"].config.productionTip=!1,i["default"].prototype.$toDate=new Date,i["default"].prototype.$fromDate=new Date(i["default"].prototype.$toDate.getFullYear()-1,i["default"].prototype.$toDate.getMonth(),i["default"].prototype.$toDate.getDate()),i["default"].prototype.$apiBaseUrl="https://api.themoviedb.org/3/movie/",i["default"].prototype.$apiToken="11004c5dda64d0bae607c7af2636e983",i["default"].use(A),i["default"].use(w["a"]),i["default"].use(y["a"]),i["default"].use(D["a"]);var G=new i["default"];new i["default"]({render:function(t){return t(b)},router:J,store:A}).$mount("#app")},"5c8e":function(t,e,a){"use strict";a("f12e")},7030:function(t,e,a){},"85ec":function(t,e,a){},"8e8c":function(t,e,a){"use strict";a("9a7b")},"9a7b":function(t,e,a){},c1a3:function(t,e,a){"use strict";a("188f")},dcc2:function(t,e,a){t.exports=a.p+"img/notfound.e0de4816.png"},f12e:function(t,e,a){}});
//# sourceMappingURL=app.5ecc86c8.js.map